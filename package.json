{
  "name": "maas-ui-monorepo",
  "version": "3.3.0",
  "private": true,
  "license": "AGPL-3.0",
  "scripts": {
    "build": "yarn build-shared",
    "cleanbuild": "yarn clean-all && yarn build-all",
    "build-all": "CYPRESS_INSTALL_BINARY=0 yarn build-shared && yarn build-legacy && yarn build-ui && yarn build-root && yarn copy-build",
    "build-root-css": "cd root && [ -f dist/assets/css/root-application.css ] || { yarn install; sass --load-path=../node_modules src/scss/base.scss dist/assets/css/root-application.css; }",
    "build-shared": "cd shared && yarn install && yarn build",
    "build-legacy": "cd legacy && yarn install && yarn build",
    "build-root": "cd root && yarn install && yarn build",
    "build-ui": "cd ui && yarn install && yarn build",
    "cypress-run": "yarn cypress run",
    "cypress-run-a11y": "yarn cypress run --config integrationFolder=cypress/integration/accessibility",
    "cypress-open": "yarn cypress open",
    "percy": "./cypress/percy.sh",
    "copy-build": "mkdir -p build && yarn copy-root && yarn copy-legacy-assets && yarn copy-ui-css",
    "copy-legacy-assets": "cp -R legacy/dist/assets build/",
    "copy-root": "cp -R root/dist/* build/",
    "copy-ui-css": "cp ui/dist/static/css/* build/assets/css/",
    "commit": "git-cz",
    "release": "cd ui && yarn run release",
    "serve": "yarn start",
    "clean": "yarn clean-all",
    "clean-all": "rm -rf build && yarn clean-monorepo && yarn clean-shared && yarn clean-legacy && yarn clean-ui && yarn clean-root",
    "clean-monorepo": "rm -rf node_modules",
    "clean-legacy": "cd legacy && yarn run clean",
    "clean-ui": "cd ui && yarn run clean",
    "clean-shared": "cd shared && yarn run clean",
    "clean-root": "cd root && yarn run clean",
    "link-components": "yarn link \"@canonical/react-components\" && yarn link \"react\" && yarn install",
    "unlink-components": "yarn unlink react && yarn unlink \"@canonical/react-components\"",
    "lint-legacy": "cd legacy && yarn run lint",
    "lint-ui": "cd ui && yarn run lint",
    "lint-shared": "cd shared && yarn run lint",
    "lint-root": "cd root && yarn run lint",
    "lint-cypress": "eslint -c cypress/.eslintrc.js \"cypress/**/*.{ts,tsx}\"",
    "lint": "yarn build-shared && yarn lint-legacy && yarn lint-ui && yarn lint-shared && yarn lint-root && yarn lint-cypress",
    "serve-apps": "concurrently \"yarn serve-frontends\" \"yarn watch-shared\"",
    "serve-frontends": "concurrently \"yarn serve-ui\" \"yarn serve-legacy\"",
    "serve-base": "concurrently \"yarn serve-root\" \"yarn serve-proxy\"",
    "serve-base-wait": "wait-on http://0.0.0.0:8401 && wait-on http://0.0.0.0:8402 && yarn serve-base",
    "serve-proxy": "nodemon ./proxy/index.js",
    "serve-legacy": "yarn --cwd legacy start",
    "serve-root": "yarn --cwd root start",
    "serve-ui": "BROWSER=none PORT=8401 yarn --cwd ui start",
    "serve-ui-proxy": "nodemon ./proxy/ui.js",
    "serve-ui-standalone": "yarn build-root-css && BROWSER=none PORT=8401 yarn --cwd ui standalone",
    "show-ready": "wait-on http://0.0.0.0:8404 && nodemon ./proxy/scripts/ready.js",
    "show-ready-ui": "wait-on http-get://0.0.0.0:8401 && nodemon ./proxy/scripts/ui.js",
    "start": "node ./proxy/scripts/start.js && yarn build-shared && concurrently \"yarn serve-apps\" \"yarn serve-base-wait\" \"yarn show-ready\"",
    "watch-shared": "cd shared && concurrently \"yarn watch\" \"yarn watch-declaration\"",
    "test-cypress": "yarn --cwd shared build && start-server-and-test serve-frontends '8401|8402' serve-base 'tcp:8400|8404' cypress-run",
    "test-legacy": "cd legacy && yarn run test",
    "test-ui": "cd ui && yarn run test --watchAll=false",
    "test-shared": "cd shared && yarn run test",
    "test": "yarn build-shared && yarn test-legacy && yarn test-ui && yarn test-shared",
    "ui": "concurrently \"yarn serve-ui-standalone\" \"yarn watch-shared\" \"yarn serve-ui-proxy\" \"yarn show-ready-ui\""
  },
  "workspaces": {
    "packages": [
      "legacy",
      "shared",
      "ui",
      "root"
    ],
    "nohoist": [
      "**/babel**",
      "**/mini-css-extract-plugin**",
      "**/react-scripts**",
      "**/react-app-rewired**",
      "**/jest",
      "**/webpack**"
    ]
  },
  "devDependencies": {
    "@maas-ui/maas-ui-shared": "3.3.0",
    "@percy/cli": "1.1.4",
    "@percy/cypress": "3.1.1",
    "@testing-library/cypress": "8.0.2",
    "@typescript-eslint/eslint-plugin": "5.23.0",
    "@typescript-eslint/parser": "5.23.0",
    "address": "1.2.0",
    "colors": "1.4.0",
    "concurrently": "7.1.0",
    "cypress-axe": "0.14.0",
    "cypress-wait-until": "1.7.2",
    "cypress": "9.6.1",
    "cz-conventional-changelog": "3.3.0",
    "dotenv-flow": "3.2.0",
    "eslint-plugin-cypress": "2.12.1",
    "eslint-plugin-import": "2.26.0",
    "eslint-plugin-no-only-tests": "2.6.0",
    "http-proxy-middleware": "2.0.6",
    "nanoid": "3.3.4",
    "nodemon": "2.0.16",
    "npm-package-json-lint": "6.3.0",
    "sass": "1.51.0",
    "start-server-and-test": "1.14.0",
    "wait-on": "6.0.1"
  },
  "config": {
    "commitizen": {
      "path": "./node_modules/cz-conventional-changelog"
    }
  }
}
